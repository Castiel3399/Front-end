(function(t){function e(e){for(var r,o,c=e[0],u=e[1],s=e[2],l=0,h=[];l<c.length;l++)o=c[l],a[o]&&h.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(h.length)h.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"218e":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("othello-game")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"othello-container"},[n("div",{staticClass:"othello-container-board"},[t._l(t.mapData,function(e,r){return[t._l(e,function(e,a){return n("div",{key:"cell-"+r+"-"+a,staticClass:"othello-container-cell",class:t.getClassName(e),on:{click:function(e){return t.move(r,a)}}})}),n("br",{key:"breakline-"+r})]})],2)])},c=[],u=(n("456d"),n("ac6a"),n("d225")),s=n("b0b4"),f=n("bd86");function l(t){return JSON.parse(JSON.stringify(t))}var h=1,p=2,v=-1,d=function(){function t(e){Object(u["a"])(this,t),Object(f["a"])(this,"defaultData",[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,2,1,0,0,0],[0,0,0,1,2,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]]),Object(f["a"])(this,"derictions",{left:[0,-1],right:[0,1],up:[-1,0],down:[1,0],leftTop:[-1,-1],leftDown:[1,-1],rightTop:[-1,1],rightDown:[1,1]}),this.map=e||l(this.defaultData)}return Object(s["a"])(t,[{key:"move",value:function(t){var e=this,n=t.x,r=t.y,a=t.target,i=!1;if(Object.keys(this.derictions).forEach(function(t){var o=e.derictions[t],c=e.findOneWay({x:n,y:r,target:a,deriction:o});if(c){var u=c.x,s=c.y;while(f(o),e.boundaryCheck(u,s))if(e.map[u][s]=a,u===n&&s===r)break;i=!0}function f(t){u-=t[0],s-=t[1]}}),!i)return"当前位置不可落子";this.markBoundary();var o=a===p?h:p,c=this.checkAvailable({target:o}),u=!1;c||(u=!this.checkAvailable({target:a}));var s={map:this.map,ifNextAvailable:c,ifEnd:u};return s}},{key:"setMap",value:function(t){this.map=l(t||this.defaultData)}},{key:"markBoundary",value:function(){for(var t=this,e=function(e){for(var n=function(n){if(t.map[e][n]<=0)return"continue";Object.keys(t.derictions).forEach(function(r){var a=e+t.derictions[r][0],i=n+t.derictions[r][1];t.boundaryCheck(a,i)&&0===t.map[a][i]&&(t.map[a][i]=v)})},r=0;r<8;r++)n(r)},n=0;n<8;n++)e(n)}},{key:"checkAvailable",value:function(t){for(var e=this,n=t.target,r=!1,a=function(t,a){var i=function(i){return e.map[t][i]!==v?"continue":(a=Object.keys(e.derictions).some(function(c){var u=e.findOneWay({x:t,y:i,target:n,deriction:e.derictions[c]});return u?(console.log("找到".concat(n===p?"白":"黑","子可落子位置(").concat(t,",").concat(i,")")),r=!0,o=a,!0):(o=a,!1)}),a?"break":void 0)};t:for(var c=0;c<8;c++){var u=i(c);switch(u){case"continue":continue;case"break":break t}}if(a)return o=a,"break";o=a},i=0,o=!1;i<8;i++){var c=a(i,o);if("break"===c)break}return r}},{key:"boundaryCheck",value:function(t,e){return t>=0&&t<=7&&e>=0&&e<=7}},{key:"findOneWay",value:function(t){var e=t.x,n=t.y,r=t.deriction,a=t.target;function i(t){c+=t[0],u+=t[1]}var o=!1,c=e,u=n,s=a,f=a===p?h:p;while(i(r),this.boundaryCheck(c,u))if(this.map[c][u]===f)o=!0;else{if(this.map[c][u]===s)break;if(this.map[c][u]<=0){o=!1;break}}return this.boundaryCheck(c,u)||(o=!1),!!o&&{x:c,y:u}}}]),t}(),b=function(){function t(){Object(u["a"])(this,t),this.currentTarget=h,this.status=1,this.pattern=new d,this.patterns=[],this.record()}return Object(s["a"])(t,[{key:"getMap",value:function(){return l(this.pattern.map)}},{key:"move",value:function(t,e){var n=this.pattern.move({x:t,y:e,target:this.currentTarget});return"string"===typeof n?n:(n.ifNextAvailable?(this.currentTarget=this.currentTarget===p?h:p,this.status=2):n.ifEnd?this.status=0:this.status=3,this.record(),!0)}},{key:"getTip",value:function(){var t="";switch(this.status){case 0:var e=this.countChess(),n=e.countBlack,r=e.countWhite;t=n!==r?"游戏已结束, ".concat(n>r?"黑":"白","棋赢!"):"游戏结束, 平局";break;case 1:t="开局, 黑棋先手";break;case 2:t="".concat(this.currentTarget===p?"白":"黑","棋轮");break;case 3:t="PASS: ".concat(this.currentTarget===p?"白":"黑","棋继续走");break;default:}return t}},{key:"reStart",value:function(){this.currentTarget=h,this.status=1,this.pattern.setMap()}},{key:"record",value:function(){this.patterns.push({map:l(this.pattern.map),currentTarget:this.currentTarget,status:this.status})}},{key:"moveBack",value:function(){if(1===this.patterns.length)return!1;this.patterns.pop();var t=this.patterns[this.patterns.length-1];this.currentTarget=t.currentTarget,this.status=t.status,this.pattern.setMap(t.map)}},{key:"countChess",value:function(){for(var t=0,e=0,n=0,r=0;r<8;r++)for(var a=0;a<8;a++)this.pattern.map[r][a]===p?e+=1:this.pattern.map[r][a]===h?t+=1:n+=1;return{countBlack:t,countWhite:e,countEmpty:n}}}]),t}(),y={name:"OthelloGame",data:function(){return{mapData:[]}},created:function(){this.gameInstance=new b,this.update()},methods:{getClassName:function(t){var e={"-1":"boundary",1:"black",2:"white"};return e[t]||""},move:function(t,e){var n=this.gameInstance.move(t,e);"string"!==typeof n?this.update():alert(n)},update:function(){this.mapData=this.gameInstance.getMap()}}},m=y,k=(n("95f3"),n("2877")),g=Object(k["a"])(m,o,c,!1,null,"e150a6ba",null),O=g.exports,w={name:"app",components:{OthelloGame:O}},j=w,x=(n("034f"),Object(k["a"])(j,a,i,!1,null,null,null)),T=x.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(T)}}).$mount("#app")},"64a9":function(t,e,n){},"95f3":function(t,e,n){"use strict";var r=n("218e"),a=n.n(r);a.a}});
//# sourceMappingURL=app.c484a341.js.map