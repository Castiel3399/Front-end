(function(t){function r(r){for(var e,i,a=r[0],l=r[1],s=r[2],f=0,p=[];f<a.length;f++)i=a[f],o[i]&&p.push(o[i][0]),o[i]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);c&&c(r);while(p.length)p.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var t,r=0;r<u.length;r++){for(var n=u[r],e=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(e=!1)}e&&(u.splice(r--,1),t=i(i.s=n[0]))}return t}var e={},o={app:0},u=[];function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,r,n){i.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,r){if(1&r&&(t=i(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var e in t)i.d(n,e,function(r){return t[r]}.bind(null,e));return n},i.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(r,"a",r),r},i.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},i.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=r,a=a.slice();for(var s=0;s<a.length;s++)r(a[s]);var c=l;u.push([0,"chunk-vendors"]),n()})({0:function(t,r,n){t.exports=n("56d7")},"034f":function(t,r,n){"use strict";var e=n("64a9"),o=n.n(e);o.a},4063:function(t,r,n){},"56d7":function(t,r,n){"use strict";n.r(r);n("cadf"),n("551c"),n("f751"),n("097d");var e=n("2b0e"),o=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{attrs:{id:"app"}},[n("OthelloGame")],1)},u=[],i=function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",[n("Board",{attrs:{cells:t.animateBoard,cellClick:t.cellClick}}),n("p",[t._v("比分 黑:"+t._s(t.blackCount)+",白:"+t._s(t.whiteCount))]),n("p",[t._v("\n    第"+t._s(this.turns.length)+"轮\n    "),n("span",[t._v(t._s(this.turns.length%2?"黑":"白"))]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.curTurn.isPass,expression:"curTurn.isPass"}]},[t._v("pass")])]),t.curTurn.isGameEnd?n("p",[t._v("游戏结束")]):t._e(),n("p",[n("button",{on:{click:t.regret}},[t._v("悔棋")])])],1)},a=[],l=n("768b"),s=(n("7514"),n("bd86")),c=(n("ac4d"),n("8a81"),n("ac6a"),function(t,r){var n=r._c;return n("div",{staticClass:"board"},r._l(r.props.cells,function(t,e){return n("div",{key:e,staticClass:"cell",class:{1:"cell-black",2:"cell-white"}[t],on:{click:function(t){r.props.cellClick&&r.props.cellClick(e)}}})}),0)}),f=[],p=(n("844e"),n("2877")),v={},h=Object(p["a"])(v,c,f,!0,null,"18f3bd98",null),d=h.exports,b=n("d225"),m=n("b0b4"),y=function(){function t(r,n,e){Object(b["a"])(this,t),this.board=r,this.color=n,this._computedStatus=g(r,n,e)}return Object(m["a"])(t,[{key:"isPass",get:function(){return this._computedStatus.isPass}},{key:"isGameEnd",get:function(){return this._computedStatus.isGameEnd}},{key:"moves",get:function(){return this._computedStatus.moves}}],[{key:"createFromMove",value:function(t){var r=t.pos,n=t.board,e=t.color,o=this;return new o(n,e,r<0)}}]),t}();function g(t,r,n){var e=!1,o=!1,u=[],i=3-r,a=_(t,r);if(n&&0===a.length?o=!0:t.some(function(t){return t<=0})||(o=!0),!o)if(e=0===a.length,e)u.push({pos:-1,board:t,color:i});else{var l=!0,s=!1,c=void 0;try{for(var f,p=a[Symbol.iterator]();!(l=(f=p.next()).done);l=!0){var v=f.value,h=v.pos,d=v.board,b=v.diff;u.push({pos:h,board:d,diff:b,color:i})}}catch(m){s=!0,c=m}finally{try{l||null==p.return||p.return()}finally{if(s)throw c}}}return{isPass:e,isGameEnd:o,moves:u}}function _(t,r){for(var n=[],e=0,o=t.length;e<o;e++){var u=k(e,r,t);if(u.length>0){var i=t.slice(),a=!0,l=!1,s=void 0;try{for(var c,f=S(u)[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var p=c.value;i[p]=r}}catch(v){l=!0,s=v}finally{try{a||null==f.return||f.return()}finally{if(l)throw s}}n.push({pos:e,diff:u,board:i})}}return n}var w=[[0,1],[0,-1],[1,1],[1,0],[1,-1],[-1,1],[-1,0],[-1,-1]];function k(t,r,n){var e=[],o=n[t];if(o>0)return[];for(var u=0,i=w;u<i.length;u++){var a=i[u],l=t,s=[];while(O(l=x(l,a))){var c=n[l];if(c<=0)break;if(c===r){s.length&&e.push(s);break}s.push(l)}}return e.length>0?[t,e]:[]}function O(t){return 0<=t&&t<64}function x(t,r){var n=Object(l["a"])(r,2),e=n[0],o=n[1],u=T(t),i=u.x,a=u.y;return i+=e,a+=o,[i,a].every(function(t){return 0<=t&&t<8})?j({x:i,y:a}):-1}function j(t){var r=t.x,n=t.y;return r+8*n}function T(t){var r=t%8,n=Math.floor(t/8);return{x:r,y:n}}function S(t){return Array.isArray(t)?t.flatMap(S):t}var P={components:{Board:d},data:function(){return{diff:null,turns:[new y([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,0,0,0,0,0,0,1,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],1,!1)]}},computed:{curTurn:function(){return this.turns[this.turns.length-1]},animateBoard:function(){var t=this.curTurn,r=t.board,n=t.color,e=this.diff;if(!e)return r;r=r.slice();var o=!0,u=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var s=a.value;r[s]=n}}catch(c){u=!0,i=c}finally{try{o||null==l.return||l.return()}finally{if(u)throw i}}return r},blackCount:function(){return this.curTurn.board.filter(function(t){return 1===t}).length},whiteCount:function(){return this.curTurn.board.filter(function(t){return 2===t}).length}},watch:Object(s["a"])({},"curTurn",{immediate:!0,handler:function(t){var r=this;t.isPass&&(console.log("pass turn ",this.turns.length),setTimeout(function(){return r.turns.push(y.createFromMove(t.moves[0]))},3e3))}}),methods:{cellClick:function(t){if(!this.diff){var r=this.curTurn.moves.find(function(r){var n=r.pos;return n===t});if(r)if(r.diff){var n=function t(){var n=!1,e=!0,o=!1,l=void 0;try{for(var c,f=u[Symbol.iterator]();!(e=(c=f.next()).done);e=!0){var p=c.value;s in p&&(a.push(p[s]),n=!0)}}catch(v){o=!0,l=v}finally{try{e||null==f.return||f.return()}finally{if(o)throw l}}n?(s++,setTimeout(t,200)):(i.diff=null,i.turns.push(y.createFromMove(r)))},e=Object(l["a"])(r.diff,2),o=e[0],u=e[1],i=this,a=i.diff=[o],s=0;setTimeout(n,200)}else this.turns.push(y.createFromMove(r))}},regret:function(){this.turns.length>1&&this.turns.pop()}}},C=P,M=Object(p["a"])(C,i,a,!1,null,null,null),E=M.exports,G={name:"app",components:{OthelloGame:E}},B=G,F=(n("034f"),Object(p["a"])(B,o,u,!1,null,null,null)),$=F.exports;e["a"].config.productionTip=!1,e["a"].config.devtools=!0,new e["a"]({render:function(t){return t($)}}).$mount("#app")},"64a9":function(t,r,n){},"844e":function(t,r,n){"use strict";var e=n("4063"),o=n.n(e);o.a}});
//# sourceMappingURL=app.be206e3c.js.map